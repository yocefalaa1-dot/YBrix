<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="YBrix - Professional AI Assistant for Developers">
    <meta name="theme-color" content="#0f172a">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <title>YBrix - Professional AI Assistant</title>
    
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle cx='50' cy='50' r='40' fill='%234f46e5'/></svg>">
    
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/12.0.0/marked.min.js"></script>
</head>
<body>
    <div class="app-container">
        <header class="header">
            <div class="header-brand">
                <div class="brand-icon"></div>
                <div class="brand-text">
                    <h1>YBrix</h1>
                    <span>Professional AI Assistant</span>
                </div>
            </div>
            <div class="header-actions">
                <button class="icon-button" id="voiceBtn" title="Voice Input">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path>
                        <path d="M19 10v2a7 7 0 0 1-14 0v-2"></path>
                        <line x1="12" y1="19" x2="12" y2="23"></line>
                        <line x1="8" y1="23" x2="16" y2="23"></line>
                    </svg>
                </button>
                <button class="icon-button" id="uploadBtn" title="Upload File">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                        <polyline points="17 8 12 3 7 8"></polyline>
                        <line x1="12" y1="3" x2="12" y2="15"></line>
                    </svg>
                    <input type="file" id="fileInput" accept=".pdf,.txt,.js,.py,.html,.css,.json,.md,image/*" hidden>
                </button>
                <button class="icon-button" id="imageGenBtn" title="Generate Image">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                        <circle cx="8.5" cy="8.5" r="1.5"></circle>
                        <polyline points="21 15 16 10 5 21"></polyline>
                    </svg>
                </button>
                <button class="icon-button" id="settingsBtn" title="Settings">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="3"></circle>
                        <path d="M12 1v6m0 6v6m4.22-13.78l-4.24 4.24m0 6.36l4.24 4.24M23 12h-6m-6 0H1m18.78-4.22l-4.24 4.24m-6.36 0l-4.24-4.24"></path>
                    </svg>
                </button>
                <button class="icon-button" id="clearBtn" title="Clear Chat">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="3 6 5 6 21 6"></polyline>
                        <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                    </svg>
                </button>
            </div>
        </header>

        <main class="chat-main">
            <div id="messagesArea" class="messages-area">
                <div class="message assistant-message">
                    <div class="message-avatar">
                        <div class="avatar-icon"></div>
                    </div>
                    <div class="message-content">
                        <div class="message-header">
                            <span class="message-sender">YBrix</span>
                            <span class="message-time">Now</span>
                        </div>
                        <div class="message-body">
                            <h3>Welcome to YBrix</h3>
                            <p>Your professional AI coding assistant. I can help you with:</p>
                            <ul class="capability-list">
                                <li>Code generation and explanation</li>
                                <li>AI image generation</li>
                                <li>File analysis (PDF, code, documents)</li>
                                <li>Voice conversations</li>
                                <li>Web research and latest information</li>
                                <li>Full application development</li>
                            </ul>
                            <p class="message-footer">How can I assist you today?</p>
                        </div>
                    </div>
                </div>
            </div>

            <div id="typingIndicator" class="typing-indicator" style="display: none;">
                <div class="message-avatar">
                    <div class="avatar-icon"></div>
                </div>
                <div class="typing-content">
                    <span class="typing-text">YBrix is typing</span>
                    <div class="typing-dots">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                </div>
            </div>
        </main>

        <div class="input-container">
            <div class="input-wrapper">
                <button class="input-action-btn" id="attachBtn" title="Attach">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"></path>
                    </svg>
                </button>
                <textarea 
                    id="messageInput" 
                    class="message-input" 
                    placeholder="Type your message... (Shift + Enter for new line)"
                    rows="1"
                ></textarea>
                <button class="send-button" id="sendBtn" title="Send">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="22" y1="2" x2="11" y2="13"></line>
                        <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
                    </svg>
                </button>
            </div>
            <div class="input-footer">
                <span>YBrix uses AI - Verify important information</span>
            </div>
        </div>
    </div>

    <div id="imageModal" class="modal">
        <div class="modal-dialog">
            <div class="modal-header">
                <h3>Generate Image</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <label class="form-label">Image Description</label>
                <textarea 
                    id="imagePrompt" 
                    class="form-textarea" 
                    placeholder="Describe the image you want to generate..."
                    rows="4"
                ></textarea>
                <div class="form-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="hdQuality" checked>
                        <span>High Definition Quality</span>
                    </label>
                </div>
            </div>
            <div class="modal-footer">
                <button id="cancelImageBtn" class="btn btn-secondary">Cancel</button>
                <button id="generateImageBtn" class="btn btn-primary">Generate</button>
            </div>
        </div>
    </div>

    <div id="settingsModal" class="modal">
        <div class="modal-dialog">
            <div class="modal-header">
                <h3>Settings</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="setting-group">
                    <label class="setting-label">
                        <span>Text-to-Speech</span>
                        <input type="checkbox" id="ttsEnabled" class="toggle-switch">
                    </label>
                </div>
                <div class="setting-group">
                    <label class="setting-label">
                        <span>Dark Mode</span>
                        <input type="checkbox" id="darkMode" class="toggle-switch" checked>
                    </label>
                </div>
                <div class="setting-group">
                    <label class="setting-label">
                        <span>Animations</span>
                        <input type="checkbox" id="animations" class="toggle-switch" checked>
                    </label>
                </div>
            </div>
            <div class="modal-footer">
                <button id="closeSettingsBtn" class="btn btn-primary">Save</button>
            </div>
        </div>
    </div>

    <div id="toastContainer" class="toast-container"></div>

    <script src="script.js"></script>
</body>
</html>
